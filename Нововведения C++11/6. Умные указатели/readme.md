## Умные указатели

Умные указатели (smart pointers) в C++ — это классы-обертки над обычными указателями, которые предоставляют дополнительные возможности для управления динамической памятью. Они позволяют автоматически управлять временем жизни объектов, на которые они указывают, и гарантировать, что память будет корректно освобождена даже в случае исключений или ошибок.

### Рассмотрим пример:

![image](https://github.com/netology-code/cppl-homeworks/assets/147130852/74ffce75-8347-47e1-8abe-9b6dde825ef6)

Функция `some_func` создает динамический массив `my_data` из 600 элементов с помощью оператора `new`.

Затем она проверяет некоторое условие (переменная `some_condition`), и если оно выполняется, возвращает значение 1.

Если другое условие (`another_condition`) верно, функция вызывает функцию `test_func` и возвращает значение 2.

Память, выделенная для массива `my_data`, освобождается с помощью оператора `delete[]`.

### У этого кода есть недостатки:
- Если выполнится какое-либо из условий `some_condition`, `another condition`, то выделенная память не удалится. Нужно в каждом условии писать удаление - это дублирование кода
- Если вдруг в функции `test_func` возникнет исключение, то опять память не удалится, возникнут утечки памяти.

### Решением будет такой объект, который самостоятельно заботится о высвобождении своих ресурсов.

Для этого созданы умные указатели.

### В std введены следующие классы:

- `auto_ptr` старый умный указатель - не использовать! (Удалён в C++17)
- `unique_ptr` предоставляет уникальное владение объектом (один указатель - один объект); нельзя копировать, только перемещать
- `shared_ptr` предоставляет совместное владение объектом (несколько указателей - один объект, например, 4 указателя на одну динамическую память)
- `weak_ptr` решает некоторые проблемы, которые возникают с `shared_ptr`

Основная цель умных указателей - предотвращение утечек памяти и ошибок освобождения памяти, которые могут возникать при использовании обычных указателей. Умные указатели автоматически освобождают выделенную память, когда объект, на который они указывают, становится недостижимым или выходит из области видимости.
